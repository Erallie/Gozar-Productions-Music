import{l as $,d as ee,t as te,a as ae,s as z}from"./DgJJQwsa.js";import{a6 as re,y as ne,a7 as ie,h as se,p as oe,a3 as k,o as le,w as ue,a4 as ce,c as m,s as h,t as de,A as i,a as ve,a5 as u,r as f}from"./Chwai9FI.js";import{s as _,r as L}from"./Crf_dxJ4.js";import{p as me,a as d,b as fe}from"./994mAl1s.js";function q(t,e,a=e){var s=re();$(t,"input",r=>{var n=r?t.defaultValue:t.value;if(n=R(t)?j(n):n,a(n),s&&n!==(n=e())){var o=t.selectionStart,c=t.selectionEnd;t.value=n??"",c!==null&&(t.selectionStart=o,t.selectionEnd=Math.min(c,t.value.length))}}),(se&&t.defaultValue!==t.value||ne(e)==null&&t.value)&&a(R(t)?j(t.value):t.value),ie(()=>{var r=e();R(t)&&r===j(t.value)||t.type==="date"&&!r&&!t.value||r!==t.value&&(t.value=r??"")})}function R(t){var e=t.type;return e==="number"||e==="range"}function j(t){return t===""?null:+t}/*! js-cookie v3.0.5 | MIT */function F(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var s in a)t[s]=a[s]}return t}var ge={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function D(t,e){function a(r,n,o){if(!(typeof document>"u")){o=F({},e,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),r=encodeURIComponent(r).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var c="";for(var v in o)o[v]&&(c+="; "+v,o[v]!==!0&&(c+="="+o[v].split(";")[0]));return document.cookie=r+"="+t.write(n,r)+c}}function s(r){if(!(typeof document>"u"||arguments.length&&!r)){for(var n=document.cookie?document.cookie.split("; "):[],o={},c=0;c<n.length;c++){var v=n[c].split("="),x=v.slice(1).join("=");try{var b=decodeURIComponent(v[0]);if(o[b]=t.read(x,b),r===b)break}catch{}}return r?o[r]:o}}return Object.create({set:a,get:s,remove:function(r,n){a(r,"",F({},n,{expires:-1}))},withAttributes:function(r){return D(this.converter,F({},this.attributes,r))},withConverter:function(r){return D(F({},this.converter,r),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var G=D(ge,{path:"/"});function _e(t,e,a){const s=t.target;u(e,d(parseFloat(s.value))),a(a().volume=i(e),!0),G.set("volume",i(e).toString(),{expires:7,sameSite:"Strict"})}function be(t,e,a,s){i(e)?a():s()}function ye(t,e,a,s){const r=t.target,n=parseFloat(r.value);n>e.endTime?u(a,d(e.endTime)):n<e.startTime?u(a,d(e.startTime)):u(a,d(n)),s(s().currentTime=i(a),!0)}function ke(t,e,a,s,r){u(e,!i(e)),i(e)?(u(a,d(s().volume)),u(r,0)):u(r,d(i(a))),s(s().volume=i(r),!0)}var pe=te('<section class="svelte-b0cwkd"><audio controlslist="nodownload"><source type="audio/mpeg"></audio> <div class="controls svelte-b0cwkd"><button class="rounded svelte-b0cwkd"><img class="svelte-b0cwkd"></button> <span id="timestamp" class="svelte-b0cwkd"><span class="svelte-b0cwkd"> </span> / <span class="svelte-b0cwkd"> </span></span> <input type="range" id="time-slider" min="0" step="0.1" class="svelte-b0cwkd"> <div id="volume-container" class="rounded svelte-b0cwkd"><input type="range" id="volume" min="0" max="1" step="0.01" class="svelte-b0cwkd"> <button class="rounded svelte-b0cwkd"><img alt="Volume" class="svelte-b0cwkd"></button></div></div></section>');function Se(t,e){oe(e,!0);let a=me(e,"player",15),s=k(!1),r=k(1),n=k(d(e.startTime)),o=k(0),c=k(d(e.src));function v(){u(n,d(a().currentTime)),u(o,d(a().duration||0)),i(n)>e.endTime&&!a().paused&&b()}function x(){(a().currentTime<e.startTime||a().currentTime>=e.endTime)&&a(a().currentTime=e.startTime,!0),a().play(),u(s,!0)}function b(){a().pause(),u(s,!1)}le(()=>{const l=Number.parseFloat(G.get("volume"));l&&Number.isFinite(l)&&a(a().volume=i(r),!0),a(a().currentTime=e.startTime,!0),a().addEventListener("timeupdate",v)}),ue(()=>{i(c)!=e.src&&(u(n,d(e.startTime)),a(a().currentTime=i(n),!0),i(s)?x():b(),u(c,d(e.src)))});function P(l){const g=Math.floor(l),y=g%60;return`${Math.floor(g/60)}:${y<10?`0${y}`:y}`}function H(){function l(N){return`${N/i(o)*100}`}let g;e.startTime!==0?g=`background: linear-gradient(
                to right,
                rgba(0, 0, 0, 0.66) ${l(e.startTime)}%,
                rgba(0, 0, 0, 0.415) ${l(e.startTime)}%,
                rgba(0, 0, 0, 0.415) ${l(i(n))}%,
            `:g=`background: linear-gradient(
                to right,
                rgba(0, 0, 0, 0.5) ${l(i(n))}%,
            `;const y=`
            rgba(0, 0, 0, 0.17) ${l(i(n))}%
            `;let T;return e.endTime<=i(o)?T=`,
                rgba(0, 0, 0, 0.17) ${l(e.endTime)}%,
                rgba(0, 0, 0, 0.66) ${l(e.endTime)}%
                );
            `:T=");",g+y+T}function J(){return`
            background: linear-gradient(
                to right,
            rgba(0, 0, 0, 0.5) ${i(r)*100}%,
            rgba(0, 0, 0, 0.17) ${i(r)*100}%
            );
        `}let K=k(!1),Q=k(0);ce(()=>{typeof document<"u"&&a().removeEventListener("timeupdate",v)});var S=pe(),C=m(S),W=m(C);f(C),fe(C,l=>a(l),()=>a());var M=h(C,2),A=m(M);A.__click=[be,s,b,x];var V=m(A);f(A);var U=h(A,2),E=m(U),X=m(E,!0);f(E);var B=h(E,2),Y=m(B,!0);f(B),f(U);var p=h(U,2);L(p),p.__input=[ye,e,n,a];var O=h(p,2),w=m(O);L(w),w.__input=[_e,r,a];var I=h(w,2);I.__click=[ke,K,Q,a,r];var Z=m(I);f(I),f(O),f(M),f(S),de((l,g,y,T)=>{_(S,"style",`--margin: ${(e.removeMargins?"0":"10")??""}px`),_(W,"src",e.src),_(V,"src",i(s)?"/audio-player/pause.svg":"/audio-player/play.svg"),_(V,"alt",i(s)?"Pause":"Play"),z(X,l),z(Y,g),_(p,"max",i(o)),_(p,"style",y),_(w,"style",T),_(Z,"src",i(r)===0?"/audio-player/volume/muted.svg":i(r)>=.5?"/audio-player/volume/volume-loud.svg":"/audio-player/volume/volume-quiet.svg")},[()=>P(i(n)),()=>P(i(o)),H,J]),q(p,()=>i(n),l=>u(n,l)),q(w,()=>i(r),l=>u(r,l)),ae(t,S),ve()}ee(["click","input"]);export{Se as A};
