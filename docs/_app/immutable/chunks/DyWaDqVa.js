import{d as se,t as oe,a as _,s as q,n as M,c as le}from"./Db3Yre9V.js";import{p as ue,x as b,o as ce,j as ve,y as de,c as m,s as T,t as ge,m as i,a as fe,z as c,r as h,f as me}from"./D6WHYpbi.js";import{p as he,a as v,b as pe,i as D}from"./Da8Qra0E.js";import{b as we,c as _e,s as S,r as G}from"./BvUMRpE6.js";import{b as J}from"./D8A0hn_-.js";/*! js-cookie v3.0.5 | MIT */function A(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var l in t)o[l]=t[l]}return o}var be={read:function(o){return o[0]==='"'&&(o=o.slice(1,-1)),o.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(o){return encodeURIComponent(o).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function P(o,e){function t(n,a,s){if(!(typeof document>"u")){s=A({},e,s),typeof s.expires=="number"&&(s.expires=new Date(Date.now()+s.expires*864e5)),s.expires&&(s.expires=s.expires.toUTCString()),n=encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var d="";for(var g in s)s[g]&&(d+="; "+g,s[g]!==!0&&(d+="="+s[g].split(";")[0]));return document.cookie=n+"="+o.write(a,n)+d}}function l(n){if(!(typeof document>"u"||arguments.length&&!n)){for(var a=document.cookie?document.cookie.split("; "):[],s={},d=0;d<a.length;d++){var g=a[d].split("="),V=g.slice(1).join("=");try{var w=decodeURIComponent(g[0]);if(s[w]=o.read(V,w),n===w)break}catch{}}return n?s[n]:s}}return Object.create({set:t,get:l,remove:function(n,a){t(n,"",A({},a,{expires:-1}))},withAttributes:function(n){return P(this.converter,A({},this.attributes,n))},withConverter:function(n){return P(A({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(o)}})}var K=P(be,{path:"/"});function xe(o,e,t){const l=o.target;c(e,v(parseFloat(l.value))),t(t().volume=i(e),!0),K.set("volume",i(e).toString(),{expires:7,sameSite:"Strict"})}function ye(o,e,t,l){i(e)?t():l()}function Te(o,e,t,l){const n=o.target,a=parseFloat(n.value);a>e.endTime?c(t,v(e.endTime)):a<e.startTime?c(t,v(e.startTime)):c(t,v(a)),l(l().currentTime=i(t),!0)}function Ce(o,e,t,l,n){c(e,!i(e)),i(e)?(c(t,v(l().volume)),c(n,0)):c(n,v(i(t))),l(l().volume=i(n),!0)}var ke=M('<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="-20 -20 140 140" class="svelte-141uheb"><g stroke="currentColor" stroke-width="20"><line x1="25" y1="0" x2="25" y2="100"></line><line x1="75" y1="0" x2="75" y2="100"></line></g></svg>'),Se=M('<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="-20 -20 140 140" class="svelte-141uheb"><polygon fill="currentColor" stroke-width="0" points="0,0 100,50 0,100"></polygon></svg>'),Me=M('<svg fill="currentColor" height="256px" width="256px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="svelte-141uheb"><path d="M22.29,16.21l-2.79-2.79l-2.79,2.79l-1.41-1.41L18.09,12l-2.79-2.79l1.41-1.41l2.79,2.79l2.79-2.79l1.41,1.41L20.91,12 l2.79,2.79L22.29,16.21z M1,12v4h5l6,5V3L6,8H1V12"></path></svg>'),Ve=M('<svg fill="currentColor" height="256px" width="256px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="svelte-141uheb"><path d="M15,21v-2c3.86,0,7-3.14,7-7s-3.14-7-7-7V3c4.96,0,9,4.04,9,9S19.96,21,15,21z M15,17v-2c1.65,0,3-1.35,3-3s-1.35-3-3-3V7 c2.76,0,5,2.24,5,5S17.76,17,15,17z M1,12v4h5l6,5V3L6,8H1V12"></path></svg>'),Be=M('<svg fill="currentColor" height="256px" width="256px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="svelte-141uheb"><path d="M1,12V8h5l6-5v18l-6-5H1V12 M20,12c0-2.76-2.24-5-5-5v2c1.65,0,3,1.35,3,3s-1.35,3-3,3v2C17.76,17,20,14.76,20,12z"></path></svg>'),ze=oe('<section><audio controlslist="nodownload"><source type="audio/mpeg"></audio> <div class="controls svelte-141uheb"><button class="rounded audio-player svelte-141uheb"><!></button> <span id="timestamp" class="svelte-141uheb"><span class="svelte-141uheb"> </span> / <span class="svelte-141uheb"> </span></span> <input type="range" id="time-slider" min="0" step="0.1" class="svelte-141uheb"> <div id="volume-container" class="rounded svelte-141uheb"><input type="range" id="volume" min="0" max="1" step="0.01" class="svelte-141uheb"> <button class="rounded audio-player svelte-141uheb"><!></button></div></div></section>');function Ie(o,e){ue(e,!0);let t=he(e,"player",15),l=b(!1),n=b(1),a=b(v(e.startTime)),s=b(0),d=b(v(e.src));function g(){c(a,v(t().currentTime)),c(s,v(t().duration||0)),i(a)>e.endTime&&!t().paused&&w()}function V(){(t().currentTime<e.startTime||t().currentTime>=e.endTime)&&t(t().currentTime=e.startTime,!0),t().play(),c(l,!0)}function w(){t().pause(),c(l,!1)}ce(()=>{const r=Number.parseFloat(K.get("volume"));r!=null&&Number.isFinite(r)&&(c(n,v(r)),t(t().volume=i(n),!0)),t(t().currentTime=e.startTime,!0),t().addEventListener("timeupdate",g)}),ve(()=>{i(d)!=e.src&&(c(a,v(e.startTime)),t(t().currentTime=i(a),!0),i(l)?V():w(),c(d,v(e.src)))});function F(r){const u=Math.floor(r),f=u%60;return`${Math.floor(u/60)}:${f<10?`0${f}`:f}`}function Q(){function r(I){return`${I/i(s)*100}`}let u;e.startTime!==0?u=`background: linear-gradient(
                to right,
                rgba(var(--foreground), 0.66) ${r(e.startTime)}%,
                rgba(var(--foreground), 0.415) ${r(e.startTime)}%,
                rgba(var(--foreground), 0.415) ${r(i(a))}%,
            `:u=`background: linear-gradient(
                to right,
                rgba(var(--foreground), 0.5) ${r(i(a))}%,
            `;const f=`
            rgba(var(--foreground), 0.17) ${r(i(a))}%
            `;let p;return e.endTime<=i(s)?p=`,
                rgba(var(--foreground), 0.17) ${r(e.endTime)}%,
                rgba(var(--foreground), 0.66) ${r(e.endTime)}%
                );
            `:p=");",u+f+p}function W(){return`
            background: linear-gradient(
                to right,
            rgba(var(--foreground), 0.5) ${i(n)*100}%,
            rgba(var(--foreground), 0.17) ${i(n)*100}%
            );
        `}let X=b(!1),Y=b(0);de(()=>{typeof document<"u"&&t().removeEventListener("timeupdate",g)});var C=ze(),B=m(C),Z=m(B);h(B),pe(B,r=>t(r),()=>t());var E=T(B,2),z=m(E);z.__click=[ye,l,w,V];var N=m(z);{var $=r=>{var u=ke();_(r,u)},ee=r=>{var u=Se();_(r,u)};D(N,r=>{i(l)?r($):r(ee,!1)})}h(z);var L=T(z,2),U=m(L),te=m(U,!0);h(U);var H=T(U,2),re=m(H,!0);h(H),h(L);var x=T(L,2);G(x),x.__input=[Te,e,a,t];var O=T(x,2),k=m(O);G(k),k.__input=[xe,n,t];var j=T(k,2);j.__click=[Ce,X,Y,t,n];var ne=m(j);{var ie=r=>{var u=Me();_(r,u)},ae=r=>{var u=le(),f=me(u);{var p=y=>{var R=Ve();_(y,R)},I=y=>{var R=Be();_(y,R)};D(f,y=>{i(n)>=.5?y(p):y(I,!1)},!0)}_(r,u)};D(ne,r=>{i(n)===0?r(ie):r(ae,!1)})}h(j),h(O),h(E),h(C),ge((r,u,f,p)=>{we(C,1,_e(e.nested?"nested":""),"svelte-141uheb"),S(C,"style",`--margin: ${(e.nested?"0":"10")??""}px`),S(Z,"src",e.src),q(te,r),q(re,u),S(x,"max",i(s)),S(x,"style",f),S(k,"style",p)},[()=>F(i(a)),()=>F(i(s)),Q,W]),J(x,()=>i(a),r=>c(a,r)),J(k,()=>i(n),r=>c(n,r)),_(o,C),fe()}se(["click","input"]);export{Ie as A};
