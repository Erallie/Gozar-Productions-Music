import{d as se,t as re,a as m,s as G,n as S,c as ne}from"./BPa43He5.js";import{p as le,e as b,o as oe,u as ue,h as ve,c as d,s as w,t as de,g as i,a as ce,b as r,r as c,f as ge}from"./DdpXikQu.js";import{p as fe,a as u,b as me,i as A}from"./Dus2qPs6.js";import{a as be,c as he,s as T,r as I}from"./DN2RhDZS.js";import{b as J,a as K}from"./nZdGDaN0.js";function _e(f,e,a){const n=f.target;r(e,u(parseFloat(n.value))),a(a().volume=i(e),!0),K.set("volume",i(e).toString(),{expires:7,sameSite:"Strict"})}function we(f,e,a,n){i(e)?a():n()}function pe(f,e,a,n){const l=f.target,o=parseFloat(l.value);o>e.endTime?r(a,u(e.endTime)):o<e.startTime?r(a,u(e.startTime)):r(a,u(o)),n(n().currentTime=i(a),!0)}function xe(f,e,a,n,l){r(e,!i(e)),i(e)?(r(a,u(n().volume)),r(l,0)):r(l,u(i(a))),n(n().volume=i(l),!0)}var ye=S('<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="-20 -20 140 140" class="svelte-abifei"><g stroke="currentColor" stroke-width="20"><line x1="25" y1="0" x2="25" y2="100"></line><line x1="75" y1="0" x2="75" y2="100"></line></g></svg>'),Te=S('<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="-20 -20 140 140" class="svelte-abifei"><polygon fill="currentColor" stroke-width="0" points="0,0 100,50 0,100"></polygon></svg>'),Se=S('<svg fill="currentColor" height="256px" width="256px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="svelte-abifei"><path d="M22.29,16.21l-2.79-2.79l-2.79,2.79l-1.41-1.41L18.09,12l-2.79-2.79l1.41-1.41l2.79,2.79l2.79-2.79l1.41,1.41L20.91,12 l2.79,2.79L22.29,16.21z M1,12v4h5l6,5V3L6,8H1V12"></path></svg>'),ke=S('<svg fill="currentColor" height="256px" width="256px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="svelte-abifei"><path d="M15,21v-2c3.86,0,7-3.14,7-7s-3.14-7-7-7V3c4.96,0,9,4.04,9,9S19.96,21,15,21z M15,17v-2c1.65,0,3-1.35,3-3s-1.35-3-3-3V7 c2.76,0,5,2.24,5,5S17.76,17,15,17z M1,12v4h5l6,5V3L6,8H1V12"></path></svg>'),Me=S('<svg fill="currentColor" height="256px" width="256px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="svelte-abifei"><path d="M1,12V8h5l6-5v18l-6-5H1V12 M20,12c0-2.76-2.24-5-5-5v2c1.65,0,3,1.35,3,3s-1.35,3-3,3v2C17.76,17,20,14.76,20,12z"></path></svg>'),Ve=re('<section><audio controlslist="nodownload"><source type="audio/mpeg"></audio> <div class="controls svelte-abifei"><button class="rounded audio-player svelte-abifei"><!></button> <span id="timestamp" class="svelte-abifei"><span class="svelte-abifei"> </span> / <span class="svelte-abifei"> </span></span> <input type="range" id="time-slider" min="0" step="0.1" class="svelte-abifei"> <div id="volume-container" class="rounded svelte-abifei"><input type="range" id="volume" min="0" max="1" step="0.01" class="svelte-abifei"> <button class="rounded audio-player svelte-abifei"><!></button></div></div></section>');function Ae(f,e){le(e,!0);let a=fe(e,"player",15),n=b(!1),l=b(1),o=b(u(e.startTime)),p=b(0),F=b(u(e.src));function H(){r(o,u(a().currentTime)),r(p,u(a().duration||0)),i(o)>e.endTime&&!a().paused&&V()}function E(){(a().currentTime<e.startTime||a().currentTime>=e.endTime)&&a(a().currentTime=e.startTime,!0),a().play(),r(n,!0)}function V(){a().pause(),r(n,!1)}oe(()=>{const t=Number.parseFloat(K.get("volume"));t!=null&&Number.isFinite(t)&&(r(l,u(t)),a(a().volume=i(l),!0)),a(a().currentTime=e.startTime,!0),a().addEventListener("timeupdate",H)}),ue(()=>{i(F)!=e.src&&(r(o,u(e.startTime)),a(a().currentTime=i(o),!0),i(n)?E():V(),r(F,u(e.src)))});function N(t){const s=Math.floor(t),v=s%60;return`${Math.floor(s/60)}:${v<10?`0${v}`:v}`}function O(){function t(P){return`${P/i(p)*100}`}let s;e.startTime!==0?s=`background: linear-gradient(
                to right,
                rgba(var(--foreground), 0.66) ${t(e.startTime)}%,
                rgba(var(--foreground), 0.415) ${t(e.startTime)}%,
                rgba(var(--foreground), 0.415) ${t(i(o))}%,
            `:s=`background: linear-gradient(
                to right,
                rgba(var(--foreground), 0.5) ${t(i(o))}%,
            `;const v=`
            rgba(var(--foreground), 0.17) ${t(i(o))}%
            `;let g;return e.endTime<=i(p)?g=`,
                rgba(var(--foreground), 0.17) ${t(e.endTime)}%,
                rgba(var(--foreground), 0.66) ${t(e.endTime)}%
                );
            `:g=");",s+v+g}function Q(){return`
            background: linear-gradient(
                to right,
            rgba(var(--foreground), 0.5) ${i(l)*100}%,
            rgba(var(--foreground), 0.17) ${i(l)*100}%
            );
        `}let R=b(!1),U=b(0);ve(()=>{typeof document<"u"&&a().removeEventListener("timeupdate",H)});var x=Ve(),k=d(x),W=d(k);c(k),me(k,t=>a(t),()=>a());var D=w(k,2),M=d(D);M.__click=[we,n,V,E];var X=d(M);{var Y=t=>{var s=ye();m(t,s)},Z=t=>{var s=Te();m(t,s)};A(X,t=>{i(n)?t(Y):t(Z,!1)})}c(M);var L=w(M,2),C=d(L),$=d(C,!0);c(C);var j=w(C,2),ee=d(j,!0);c(j),c(L);var h=w(L,2);I(h),h.__input=[pe,e,o,a];var q=w(h,2),y=d(q);I(y),y.__input=[_e,l,a];var B=w(y,2);B.__click=[xe,R,U,a,l];var te=d(B);{var ae=t=>{var s=Se();m(t,s)},ie=t=>{var s=ne(),v=ge(s);{var g=_=>{var z=ke();m(_,z)},P=_=>{var z=Me();m(_,z)};A(v,_=>{i(l)>=.5?_(g):_(P,!1)},!0)}m(t,s)};A(te,t=>{i(l)===0?t(ae):t(ie,!1)})}c(B),c(q),c(D),c(x),de((t,s,v,g)=>{be(x,1,he(e.nested?"nested":""),"svelte-abifei"),T(x,"style",`--margin: ${(e.nested?"0":"10")??""}px`),T(W,"src",e.src),G($,t),G(ee,s),T(h,"max",i(p)),T(h,"style",v),T(y,"style",g)},[()=>N(i(o)),()=>N(i(p)),O,Q]),J(h,()=>i(o),t=>r(o,t)),J(y,()=>i(l),t=>r(l,t)),m(f,x),ce()}se(["click","input"]);export{Ae as A};
