import{d as re,t as ie,a as f,s as G,n as S,c as ne}from"./CfFzbQ-o.js";import{p as le,b as h,o as oe,u as ue,e as ve,c as d,s as w,t as de,g as s,a as ce,h as i,r as c,f as ge}from"./C6g_gnza.js";import{p as me,a as u,b as fe,i as A}from"./mAI3wHEF.js";import{a as he,c as be,s as T,r as I}from"./Cow7cJI3.js";import{b as J,a as K}from"./DDthwKet.js";function _e(m,e,a){const n=m.target;i(e,u(parseFloat(n.value))),a(a().volume=s(e),!0),K.set("volume",s(e).toString(),{expires:7,sameSite:"Strict"})}function we(m,e,a,n){s(e)?a():n()}function pe(m,e,a,n){const l=m.target,o=parseFloat(l.value);o>e.endTime?i(a,u(e.endTime)):o<e.startTime?i(a,u(e.startTime)):i(a,u(o)),n(n().currentTime=s(a),!0)}function xe(m,e,a,n,l){i(e,!s(e)),s(e)?(i(a,u(n().volume)),i(l,0)):i(l,u(s(a))),n(n().volume=s(l),!0)}var ye=S('<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="-20 -20 140 140" class="svelte-141uheb"><g stroke="currentColor" stroke-width="20"><line x1="25" y1="0" x2="25" y2="100"></line><line x1="75" y1="0" x2="75" y2="100"></line></g></svg>'),Te=S('<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="-20 -20 140 140" class="svelte-141uheb"><polygon fill="currentColor" stroke-width="0" points="0,0 100,50 0,100"></polygon></svg>'),Se=S('<svg fill="currentColor" height="256px" width="256px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="svelte-141uheb"><path d="M22.29,16.21l-2.79-2.79l-2.79,2.79l-1.41-1.41L18.09,12l-2.79-2.79l1.41-1.41l2.79,2.79l2.79-2.79l1.41,1.41L20.91,12 l2.79,2.79L22.29,16.21z M1,12v4h5l6,5V3L6,8H1V12"></path></svg>'),ke=S('<svg fill="currentColor" height="256px" width="256px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="svelte-141uheb"><path d="M15,21v-2c3.86,0,7-3.14,7-7s-3.14-7-7-7V3c4.96,0,9,4.04,9,9S19.96,21,15,21z M15,17v-2c1.65,0,3-1.35,3-3s-1.35-3-3-3V7 c2.76,0,5,2.24,5,5S17.76,17,15,17z M1,12v4h5l6,5V3L6,8H1V12"></path></svg>'),Me=S('<svg fill="currentColor" height="256px" width="256px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="svelte-141uheb"><path d="M1,12V8h5l6-5v18l-6-5H1V12 M20,12c0-2.76-2.24-5-5-5v2c1.65,0,3,1.35,3,3s-1.35,3-3,3v2C17.76,17,20,14.76,20,12z"></path></svg>'),Ve=ie('<section><audio controlslist="nodownload"><source type="audio/mpeg"></audio> <div class="controls svelte-141uheb"><button class="rounded audio-player svelte-141uheb"><!></button> <span id="timestamp" class="svelte-141uheb"><span class="svelte-141uheb"> </span> / <span class="svelte-141uheb"> </span></span> <input type="range" id="time-slider" min="0" step="0.1" class="svelte-141uheb"> <div id="volume-container" class="rounded svelte-141uheb"><input type="range" id="volume" min="0" max="1" step="0.01" class="svelte-141uheb"> <button class="rounded audio-player svelte-141uheb"><!></button></div></div></section>');function Ae(m,e){le(e,!0);let a=me(e,"player",15),n=h(!1),l=h(1),o=h(u(e.startTime)),p=h(0),F=h(u(e.src));function H(){i(o,u(a().currentTime)),i(p,u(a().duration||0)),s(o)>e.endTime&&!a().paused&&V()}function E(){(a().currentTime<e.startTime||a().currentTime>=e.endTime)&&a(a().currentTime=e.startTime,!0),a().play(),i(n,!0)}function V(){a().pause(),i(n,!1)}oe(()=>{const t=Number.parseFloat(K.get("volume"));t!=null&&Number.isFinite(t)&&(i(l,u(t)),a(a().volume=s(l),!0)),a(a().currentTime=e.startTime,!0),a().addEventListener("timeupdate",H)}),ue(()=>{s(F)!=e.src&&(i(o,u(e.startTime)),a(a().currentTime=s(o),!0),s(n)?E():V(),i(F,u(e.src)))});function N(t){const r=Math.floor(t),v=r%60;return`${Math.floor(r/60)}:${v<10?`0${v}`:v}`}function O(){function t(P){return`${P/s(p)*100}`}let r;e.startTime!==0?r=`background: linear-gradient(
                to right,
                rgba(var(--foreground), 0.66) ${t(e.startTime)}%,
                rgba(var(--foreground), 0.415) ${t(e.startTime)}%,
                rgba(var(--foreground), 0.415) ${t(s(o))}%,
            `:r=`background: linear-gradient(
                to right,
                rgba(var(--foreground), 0.5) ${t(s(o))}%,
            `;const v=`
            rgba(var(--foreground), 0.17) ${t(s(o))}%
            `;let g;return e.endTime<=s(p)?g=`,
                rgba(var(--foreground), 0.17) ${t(e.endTime)}%,
                rgba(var(--foreground), 0.66) ${t(e.endTime)}%
                );
            `:g=");",r+v+g}function Q(){return`
            background: linear-gradient(
                to right,
            rgba(var(--foreground), 0.5) ${s(l)*100}%,
            rgba(var(--foreground), 0.17) ${s(l)*100}%
            );
        `}let R=h(!1),U=h(0);ve(()=>{typeof document<"u"&&a().removeEventListener("timeupdate",H)});var x=Ve(),k=d(x),W=d(k);c(k),fe(k,t=>a(t),()=>a());var D=w(k,2),M=d(D);M.__click=[we,n,V,E];var X=d(M);{var Y=t=>{var r=ye();f(t,r)},Z=t=>{var r=Te();f(t,r)};A(X,t=>{s(n)?t(Y):t(Z,!1)})}c(M);var L=w(M,2),C=d(L),$=d(C,!0);c(C);var j=w(C,2),ee=d(j,!0);c(j),c(L);var b=w(L,2);I(b),b.__input=[pe,e,o,a];var q=w(b,2),y=d(q);I(y),y.__input=[_e,l,a];var B=w(y,2);B.__click=[xe,R,U,a,l];var te=d(B);{var ae=t=>{var r=Se();f(t,r)},se=t=>{var r=ne(),v=ge(r);{var g=_=>{var z=ke();f(_,z)},P=_=>{var z=Me();f(_,z)};A(v,_=>{s(l)>=.5?_(g):_(P,!1)},!0)}f(t,r)};A(te,t=>{s(l)===0?t(ae):t(se,!1)})}c(B),c(q),c(D),c(x),de((t,r,v,g)=>{he(x,1,be(e.nested?"nested":""),"svelte-141uheb"),T(x,"style",`--margin: ${(e.nested?"0":"10")??""}px`),T(W,"src",e.src),G($,t),G(ee,r),T(b,"max",s(p)),T(b,"style",v),T(y,"style",g)},[()=>N(s(o)),()=>N(s(p)),O,Q]),J(b,()=>s(o),t=>i(o,t)),J(y,()=>s(l),t=>i(l,t)),f(m,x),ce()}re(["click","input"]);export{Ae as A};
