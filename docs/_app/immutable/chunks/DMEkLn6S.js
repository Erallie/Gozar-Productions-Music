import{d as se,t as oe,a as w,s as q,n as S,c as le}from"./Db3Yre9V.js";import{p as ue,x as _,o as ce,j as ve,y as de,c as f,s as b,t as me,m as i,a as ge,z as c,r as p,f as fe}from"./D6WHYpbi.js";import{p as pe,a as v,b as he,i as D}from"./Da8Qra0E.js";import{b as ye,c as we,s as k,r as G}from"./BvUMRpE6.js";import{b as J}from"./D8A0hn_-.js";/*! js-cookie v3.0.5 | MIT */function A(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var l in t)o[l]=t[l]}return o}var _e={read:function(o){return o[0]==='"'&&(o=o.slice(1,-1)),o.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(o){return encodeURIComponent(o).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function P(o,e){function t(n,a,s){if(!(typeof document>"u")){s=A({},e,s),typeof s.expires=="number"&&(s.expires=new Date(Date.now()+s.expires*864e5)),s.expires&&(s.expires=s.expires.toUTCString()),n=encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var d="";for(var m in s)s[m]&&(d+="; "+m,s[m]!==!0&&(d+="="+s[m].split(";")[0]));return document.cookie=n+"="+o.write(a,n)+d}}function l(n){if(!(typeof document>"u"||arguments.length&&!n)){for(var a=document.cookie?document.cookie.split("; "):[],s={},d=0;d<a.length;d++){var m=a[d].split("="),M=m.slice(1).join("=");try{var y=decodeURIComponent(m[0]);if(s[y]=o.read(M,y),n===y)break}catch{}}return n?s[n]:s}}return Object.create({set:t,get:l,remove:function(n,a){t(n,"",A({},a,{expires:-1}))},withAttributes:function(n){return P(this.converter,A({},this.attributes,n))},withConverter:function(n){return P(A({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(o)}})}var K=P(_e,{path:"/"});function xe(o,e,t){const l=o.target;c(e,v(parseFloat(l.value))),t(t().volume=i(e),!0),K.set("volume",i(e).toString(),{expires:7,sameSite:"Strict"})}function Te(o,e,t,l){i(e)?t():l()}function be(o,e,t,l){const n=o.target,a=parseFloat(n.value);a>e.endTime?c(t,v(e.endTime)):a<e.startTime?c(t,v(e.startTime)):c(t,v(a)),l(l().currentTime=i(t),!0)}function ze(o,e,t,l,n){c(e,!i(e)),i(e)?(c(t,v(l().volume)),c(n,0)):c(n,v(i(t))),l(l().volume=i(n),!0)}var Ce=S('<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="-20 -20 140 140" class="svelte-uz4my1"><g stroke="currentColor" stroke-width="20"><line x1="25" y1="0" x2="25" y2="100"></line><line x1="75" y1="0" x2="75" y2="100"></line></g></svg>'),ke=S('<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="-20 -20 140 140" class="svelte-uz4my1"><polygon fill="currentColor" stroke-width="0" points="0,0 100,50 0,100"></polygon></svg>'),Se=S('<svg fill="currentColor" height="256px" width="256px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="svelte-uz4my1"><path d="M22.29,16.21l-2.79-2.79l-2.79,2.79l-1.41-1.41L18.09,12l-2.79-2.79l1.41-1.41l2.79,2.79l2.79-2.79l1.41,1.41L20.91,12 l2.79,2.79L22.29,16.21z M1,12v4h5l6,5V3L6,8H1V12"></path></svg>'),Me=S('<svg fill="currentColor" height="256px" width="256px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="svelte-uz4my1"><path d="M15,21v-2c3.86,0,7-3.14,7-7s-3.14-7-7-7V3c4.96,0,9,4.04,9,9S19.96,21,15,21z M15,17v-2c1.65,0,3-1.35,3-3s-1.35-3-3-3V7 c2.76,0,5,2.24,5,5S17.76,17,15,17z M1,12v4h5l6,5V3L6,8H1V12"></path></svg>'),Ve=S('<svg fill="currentColor" height="256px" width="256px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="svelte-uz4my1"><path d="M1,12V8h5l6-5v18l-6-5H1V12 M20,12c0-2.76-2.24-5-5-5v2c1.65,0,3,1.35,3,3s-1.35,3-3,3v2C17.76,17,20,14.76,20,12z"></path></svg>'),Be=oe('<section><audio controlslist="nodownload"><source type="audio/mpeg"></audio> <div class="controls svelte-uz4my1"><button class="rounded audio-player svelte-uz4my1"><!></button> <span id="timestamp" class="svelte-uz4my1"><span class="svelte-uz4my1"> </span> / <span class="svelte-uz4my1"> </span></span> <input type="range" id="time-slider" min="0" step="0.1" class="svelte-uz4my1"> <div id="volume-container" class="rounded svelte-uz4my1"><input type="range" id="volume" min="0" max="1" step="0.01" class="svelte-uz4my1"> <button class="rounded audio-player svelte-uz4my1"><!></button></div></div></section>');function Ie(o,e){ue(e,!0);let t=pe(e,"player",15),l=_(!1),n=_(1),a=_(v(e.startTime)),s=_(0),d=_(v(e.src));function m(){c(a,v(t().currentTime)),c(s,v(t().duration||0)),i(a)>e.endTime&&!t().paused&&y()}function M(){(t().currentTime<e.startTime||t().currentTime>=e.endTime)&&t(t().currentTime=e.startTime,!0),t().play(),c(l,!0)}function y(){t().pause(),c(l,!1)}ce(()=>{const r=Number.parseFloat(K.get("volume"));r!=null&&Number.isFinite(r)&&(c(n,v(r)),t(t().volume=i(n),!0)),t(t().currentTime=e.startTime,!0),t().addEventListener("timeupdate",m)}),ve(()=>{i(d)!=e.src&&(c(a,v(e.startTime)),t(t().currentTime=i(a),!0),i(l)?M():y(),c(d,v(e.src)))});function F(r){const u=Math.floor(r),g=u%60;return`${Math.floor(u/60)}:${g<10?`0${g}`:g}`}function Q(){function r(I){return`${I/i(s)*100}`}let u;e.startTime!==0?u=`background: linear-gradient(
                to right,
                rgba(var(--foreground), 0.66) ${r(e.startTime)}%,
                rgba(var(--foreground), 0.415) ${r(e.startTime)}%,
                rgba(var(--foreground), 0.415) ${r(i(a))}%,
            `:u=`background: linear-gradient(
                to right,
                rgba(var(--foreground), 0.5) ${r(i(a))}%,
            `;const g=`
            rgba(var(--foreground), 0.17) ${r(i(a))}%
            `;let h;return e.endTime<=i(s)?h=`,
                rgba(var(--foreground), 0.17) ${r(e.endTime)}%,
                rgba(var(--foreground), 0.66) ${r(e.endTime)}%
                );
            `:h=");",u+g+h}function W(){return`
            background: linear-gradient(
                to right,
            rgba(var(--foreground), 0.5) ${i(n)*100}%,
            rgba(var(--foreground), 0.17) ${i(n)*100}%
            );
        `}let X=_(!1),Y=_(0);de(()=>{typeof document<"u"&&t().removeEventListener("timeupdate",m)});var z=Be(),V=f(z),Z=f(V);p(V),he(V,r=>t(r),()=>t());var E=b(V,2),B=f(E);B.__click=[Te,l,y,M];var N=f(B);{var $=r=>{var u=Ce();w(r,u)},ee=r=>{var u=ke();w(r,u)};D(N,r=>{i(l)?r($):r(ee,!1)})}p(B);var L=b(B,2),U=f(L),te=f(U,!0);p(U);var H=b(U,2),re=f(H,!0);p(H),p(L);var x=b(L,2);G(x),x.__input=[be,e,a,t];var O=b(x,2),C=f(O);G(C),C.__input=[xe,n,t];var j=b(C,2);j.__click=[ze,X,Y,t,n];var ne=f(j);{var ie=r=>{var u=Se();w(r,u)},ae=r=>{var u=le(),g=fe(u);{var h=T=>{var R=Me();w(T,R)},I=T=>{var R=Ve();w(T,R)};D(g,T=>{i(n)>=.5?T(h):T(I,!1)},!0)}w(r,u)};D(ne,r=>{i(n)===0?r(ie):r(ae,!1)})}p(j),p(O),p(E),p(z),me((r,u,g,h)=>{ye(z,1,we(e.nested?"nested":""),"svelte-uz4my1"),k(z,"style",`--margin: ${(e.nested?"0":"10")??""}px`),k(Z,"src",e.src),q(te,r),q(re,u),k(x,"max",i(s)),k(x,"style",g),k(C,"style",h)},[()=>F(i(a)),()=>F(i(s)),Q,W]),J(x,()=>i(a),r=>c(a,r)),J(C,()=>i(n),r=>c(n,r)),w(o,z),ge()}se(["click","input"]);export{Ie as A};
